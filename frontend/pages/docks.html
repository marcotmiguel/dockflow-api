<!-- Página de Gerenciamento de Docas -->
<div class="content-page">
  <!-- Cabeçalho da página -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h4 class="mb-1">Gerenciamento de Docas</h4>
      <p class="text-muted mb-0">Controle e monitore todas as docas de carregamento</p>
    </div>
    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#dockModal">
      <i class="fas fa-plus me-1"></i> Nova Doca
    </button>
  </div>

  <!-- Cards de Status -->
  <div class="row mb-4">
    <div class="col-md-3">
      <div class="card border-0 bg-success bg-opacity-10">
        <div class="card-body text-center">
          <i class="fas fa-check-circle text-success fa-2x mb-2"></i>
          <h5 class="text-success mb-1" id="available-docks-count">0</h5>
          <small class="text-muted">Docas Disponíveis</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border-0 bg-warning bg-opacity-10">
        <div class="card-body text-center">
          <i class="fas fa-truck text-warning fa-2x mb-2"></i>
          <h5 class="text-warning mb-1" id="occupied-docks-count">0</h5>
          <small class="text-muted">Docas Ocupadas</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border-0 bg-danger bg-opacity-10">
        <div class="card-body text-center">
          <i class="fas fa-tools text-danger fa-2x mb-2"></i>
          <h5 class="text-danger mb-1" id="maintenance-docks-count">0</h5>
          <small class="text-muted">Em Manutenção</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card border-0 bg-primary bg-opacity-10">
        <div class="card-body text-center">
          <i class="fas fa-warehouse text-primary fa-2x mb-2"></i>
          <h5 class="text-primary mb-1" id="total-docks-count">0</h5>
          <small class="text-muted">Total de Docas</small>
        </div>
      </div>
    </div>
  </div>

  <!-- Filtros e Busca -->
  <div class="card mb-4">
    <div class="card-body">
      <div class="row g-3">
        <div class="col-md-4">
          <label class="form-label">Buscar Doca</label>
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-search"></i></span>
            <input type="text" class="form-control" id="dock-search" placeholder="Nome da doca...">
          </div>
        </div>
        <div class="col-md-3">
          <label class="form-label">Filtrar por Status</label>
          <select class="form-select" id="status-filter">
            <option value="">Todos os Status</option>
            <option value="available">Disponível</option>
            <option value="occupied">Ocupada</option>
            <option value="maintenance">Manutenção</option>
          </select>
        </div>
        <div class="col-md-3">
          <label class="form-label invisible">Ações</label>
          <div class="d-flex gap-2">
            <button class="btn btn-outline-secondary" id="refresh-docks" title="Atualizar">
              <i class="fas fa-sync-alt"></i>
            </button>
            <button class="btn btn-outline-success" id="export-docks" title="Exportar">
              <i class="fas fa-download"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Lista de Docas -->
  <div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h6 class="mb-0">Lista de Docas</h6>
      <small class="text-muted">Total: <span id="docks-total-count">0</span> docas</small>
    </div>
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead class="table-light">
            <tr>
              <th width="50">#</th>
              <th>Nome da Doca</th>
              <th width="150">Status</th>
              <th width="200">Última Atualização</th>
              <th width="150" class="text-center">Ações</th>
            </tr>
          </thead>
          <tbody id="docks-list">
            <!-- Lista será preenchida via JavaScript -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Modal para Nova/Editar Doca -->
<div class="modal fade" id="dockModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="dock-modal-title">Nova Doca</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <form id="dock-form">
          <input type="hidden" id="dock-id">
          
          <div class="mb-3">
            <label for="dock-name" class="form-label">Nome da Doca <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="dock-name" required placeholder="Ex: Doca 01, Doca A, etc.">
            <div class="form-text">Nome identificador da doca</div>
          </div>
          
          <div class="mb-3">
            <label for="dock-status" class="form-label">Status <span class="text-danger">*</span></label>
            <select class="form-select" id="dock-status" required>
              <option value="">Selecione o status...</option>
              <option value="available">Disponível</option>
              <option value="occupied">Ocupada</option>
              <option value="maintenance">Manutenção</option>
            </select>
          </div>
          
          <div class="mb-3">
            <label for="dock-notes" class="form-label">Observações</label>
            <textarea class="form-control" id="dock-notes" rows="3" placeholder="Observações sobre a doca (opcional)"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" id="save-dock-btn">
          <span class="spinner-border spinner-border-sm d-none" id="save-dock-spinner"></span>
          <span id="save-dock-text">Salvar</span>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal para Visualizar Doca -->
<div class="modal fade" id="viewDockModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Detalhes da Doca</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <div class="card border-0 bg-light">
              <div class="card-body">
                <h6 class="card-title">Informações Básicas</h6>
                <table class="table table-sm table-borderless">
                  <tr>
                    <td class="text-muted">Nome:</td>
                    <td id="view-dock-name">-</td>
                  </tr>
                  <tr>
                    <td class="text-muted">Status:</td>
                    <td><span id="view-dock-status" class="badge">-</span></td>
                  </tr>
                  <tr>
                    <td class="text-muted">Criada em:</td>
                    <td id="view-dock-created">-</td>
                  </tr>
                  <tr>
                    <td class="text-muted">Atualizada em:</td>
                    <td id="view-dock-updated">-</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card border-0 bg-light">
              <div class="card-body">
                <h6 class="card-title">Estatísticas</h6>
                <div class="row text-center">
                  <div class="col-4">
                    <div class="bg-white rounded p-2">
                      <h5 class="mb-1" id="view-dock-total-loadings">0</h5>
                      <small class="text-muted">Total Carregamentos</small>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="bg-white rounded p-2">
                      <h5 class="mb-1" id="view-dock-completed-loadings">0</h5>
                      <small class="text-muted">Concluídos</small>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="bg-white rounded p-2">
                      <h5 class="mb-1" id="view-dock-last-loading">--</h5>
                      <small class="text-muted">Último Uso</small>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="mt-3">
          <h6>Observações</h6>
          <p class="text-muted" id="view-dock-notes">Nenhuma observação registrada.</p>
        </div>
        
        <div class="mt-3">
          <h6>Histórico Recente de Carregamentos</h6>
          <div class="table-responsive">
            <table class="table table-sm">
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Motorista</th>
                  <th>Veículo</th>
                  <th>Status</th>
                  <th width="50"></th>
                </tr>
              </thead>
              <tbody id="view-dock-loadings">
                <tr>
                  <td colspan="5" class="text-center py-3 text-muted">Carregando histórico...</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary" id="edit-dock-btn">
          <i class="fas fa-edit me-1"></i> Editar
        </button>
        <button type="button" class="btn btn-outline-success" id="new-loading-for-dock-btn">
          <i class="fas fa-plus me-1"></i> Novo Carregamento
        </button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Confirmação de Exclusão -->
<div class="modal fade" id="deleteDockModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Confirmar Exclusão</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <div class="text-center">
          <i class="fas fa-exclamation-triangle text-warning fa-3x mb-3"></i>
          <h6>Tem certeza que deseja excluir a doca?</h6>
          <p class="text-muted">
            A doca <strong id="delete-dock-name">-</strong> será removida permanentemente.
            <br><strong>Esta ação não pode ser desfeita.</strong>
          </p>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-danger" id="confirm-delete-dock">
          <i class="fas fa-trash me-1"></i> Excluir Doca
        </button>
      </div>
    </div>
  </div>
</div>