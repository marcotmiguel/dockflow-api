<div class="retornos-page">
  <!-- Container de alertas -->
  <div id="alert-container"></div>
  
  <!-- Estatísticas dos Retornos -->
  <div class="row mb-4">
    <div class="col-md-3">
      <div class="card stat-card" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white;">
        <div class="card-body text-center">
          <i class="fas fa-hourglass-half fa-2x mb-2"></i>
          <h4 id="aguardando-count">0</h4>
          <small>Aguardando Chegada</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white;">
        <div class="card-body text-center">
          <i class="fas fa-barcode fa-2x mb-2"></i>
          <h4 id="bipando-count">0</h4>
          <small>Bipando</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card stat-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white;">
        <div class="card-body text-center">
          <i class="fas fa-check-double fa-2x mb-2"></i>
          <h4 id="conferido-count">0</h4>
          <small>Conferido</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white;">
        <div class="card-body text-center">
          <i class="fas fa-boxes fa-2x mb-2"></i>
          <h4 id="total-itens-retornados">0</h4>
          <small>Itens Hoje</small>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Controles dos Retornos -->
  <div class="row mb-3">
    <div class="col-md-8">
      <div class="btn-group" role="group">
        <button type="button" class="btn btn-outline-primary" id="refresh-retornos">
          <i class="fas fa-sync-alt"></i> Atualizar
        </button>
        <button type="button" class="btn btn-outline-success" id="registrar-retorno-btn" data-bs-toggle="modal" data-bs-target="#registrarRetornoModal">
          <i class="fas fa-plus"></i> Registrar Retorno
        </button>
      </div>
    </div>
    <div class="col-md-4">
      <div class="input-group">
        <input type="text" class="form-control" id="search-retornos" placeholder="Buscar retornos...">
        <button class="btn btn-outline-secondary" type="button">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Lista de Retornos -->
  <div class="card shadow-sm">
    <div class="card-header bg-light">
      <h5 class="mb-0">
        <i class="fas fa-undo"></i> Retornos de Carga
      </h5>
    </div>
    <div class="card-body">
      <div id="retornos-container">
        <div class="text-center py-4">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Carregando retornos...</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
/* Estilos específicos para retornos */
.status-aguardando { border-left: 4px solid #ffc107; }
.status-bipando { border-left: 4px solid #007bff; }
.status-conferido { border-left: 4px solid #28a745; }
.status-cancelado { border-left: 4px solid #dc3545; }

.retorno-item {
  transition: all 0.3s ease;
}

.retorno-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.barcode-input {
  font-family: 'Courier New', monospace;
  font-size: 1.1em;
}
</style>

<script>
// Inicializar módulo quando a página carregar
document.addEventListener('DOMContentLoaded', function() {
  // Aguardar um pouco para garantir que o módulo esteja carregado
  setTimeout(() => {
    if (window.RetornosDashboard) {
      window.RetornosDashboard.init();
    } else {
      console.warn('RetornosDashboard não encontrado, inicializando dados locais...');
      // Criar instância local se não estiver disponível
      window.RetornosDashboard = new RetornosDashboard();
      window.RetornosDashboard.init();
    }
  }, 100);
});
</script>