<!-- Página de Gerenciamento de Produtos -->
<div class="products-page">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h4>Gerenciamento de Produtos</h4>
    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#productModal">
      <i class="fas fa-plus me-1"></i> Novo Produto
    </button>
  </div>
  
  <!-- Filtros e Pesquisa -->
  <div class="card mb-4">
    <div class="card-body">
      <div class="row g-3">
        <div class="col-md-8">
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-search"></i></span>
            <input type="text" class="form-control" id="product-search" placeholder="Buscar por nome, código ou descrição...">
          </div>
        </div>
        <div class="col-md-4 text-end">
          <div class="btn-group" role="group">
            <button type="button" class="btn btn-outline-primary" id="refresh-products">
              <i class="fas fa-sync-alt me-1"></i> Atualizar
            </button>
            <button type="button" class="btn btn-outline-secondary" id="export-products">
              <i class="fas fa-file-export me-1"></i> Exportar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Lista de Produtos -->
  <div class="card mb-4">
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>#</th>
              <th>Código</th>
              <th>Nome</th>
              <th>Descrição</th>
              <th>Data de Cadastro</th>
              <th class="text-end">Ações</th>
            </tr>
          </thead>
          <tbody id="products-list">
            <tr>
              <td colspan="6" class="text-center py-4">
                <div class="spinner-border text-primary" role="status">
                  <span class="visually-hidden">Carregando...</span>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <!-- Paginação -->
      <nav aria-label="Paginação de produtos">
        <ul class="pagination justify-content-center" id="products-pagination">
          <!-- Será preenchido via JavaScript -->
        </ul>
      </nav>
    </div>
  </div>
</div>

<!-- Modal para Cadastro/Edição de Produto -->
<div class="modal fade" id="productModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="product-modal-title">Novo Produto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <form id="product-form">
          <input type="hidden" id="product-id">
          
          <div class="mb-3">
            <label for="product-code" class="form-label">Código do Produto</label>
            <input type="text" class="form-control" id="product-code" placeholder="Ex: PROD001" required>
            <div class="form-text">Código único para identificação do produto.</div>
          </div>
          
          <div class="mb-3">
            <label for="product-name" class="form-label">Nome do Produto</label>
            <input type="text" class="form-control" id="product-name" placeholder="Ex: Caixa de Papelão 30x20x15" required>
          </div>
          
          <div class="mb-3">
            <label for="product-description" class="form-label">Descrição (opcional)</label>
            <textarea class="form-control" id="product-description" rows="3" placeholder="Descreva as características do produto"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" id="save-product-btn">
          <span class="spinner-border spinner-border-sm d-none" id="save-product-spinner"></span>
          <span id="save-product-text">Salvar</span>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Confirmação para Excluir -->
<div class="modal fade" id="deleteProductModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Confirmar Exclusão</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <p>Tem certeza que deseja excluir o produto <strong id="delete-product-name"></strong>?</p>
        <p class="text-danger">Esta ação não pode ser desfeita.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-danger" id="confirm-delete-product">
          <i class="fas fa-trash me-1"></i> Excluir
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Visualização de Produto -->
<div class="modal fade" id="viewProductModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Detalhes do Produto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <div class="row mb-3">
          <div class="col-4 text-muted">Código:</div>
          <div class="col-8" id="view-product-code"></div>
        </div>
        <div class="row mb-3">
          <div class="col-4 text-muted">Nome:</div>
          <div class="col-8" id="view-product-name"></div>
        </div>
        <div class="row mb-3">
          <div class="col-4 text-muted">Descrição:</div>
          <div class="col-8" id="view-product-description"></div>
        </div>
        <div class="row mb-3">
          <div class="col-4 text-muted">Data de Cadastro:</div>
          <div class="col-8" id="view-product-created"></div>
        </div>
        <div class="row mb-3">
          <div class="col-4 text-muted">Última Atualização:</div>
          <div class="col-8" id="view-product-updated"></div>
        </div>
        
        <div class="mb-3">
          <h6 class="border-bottom pb-2">Estatísticas de Uso</h6>
          <div class="row mb-2">
            <div class="col-8 text-muted">Total de carregamentos:</div>
            <div class="col-4 text-end" id="view-product-loadings">0</div>
          </div>
          <div class="row">
            <div class="col-8 text-muted">Último carregamento:</div>
            <div class="col-4 text-end" id="view-product-last-loading">--</div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
        <button type="button" class="btn btn-primary" id="edit-product-btn">
          <i class="fas fa-edit me-1"></i> Editar
        </button>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Implementação do JavaScript será adicionada ao arquivo main.js
    // Este script apenas inicializa elementos do Bootstrap
    
    // Inicializar modais
    const modals = document.querySelectorAll('.modal');
    modals.forEach(modalEl => {
      new bootstrap.Modal(modalEl);
    });
  });
</script>